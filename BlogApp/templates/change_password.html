{% extends "Base.html" %}
{% block title %}Chage password{% endblock title %}
<style>
  .contact-form {
    margin-top: -50px; /* adjust the value as needed */
  }
  .contact-form button {
    margin-left: 150px;
  }
  .contact-section h2 {
    margin-top: 10px;
  }
  .password-field {
    position: relative; /* Positioning context for the icon */
  }
  .password-field .form-input {
    padding-right: 30px; /* Space for the icon */
  }
  .password-field .field-icon {
    position: absolute;
    top: 38%;
    right: 15px; /* Distance from the right edge */
    transform: translateY(-50%); /* Center vertically */
    cursor: pointer; /* Pointer cursor on hover */
  }
</style>

{% block content %}
<section class="contact-section" id="contact">
  <h2 class="section-title">Change password</h2>
  <div class="section-content text-center" style="margin-left: 35%; margin-top: -55px">
    <form action="#" class="contact-form" method="POST">
      {% csrf_token %} 
      {% if messages %}
      <div class="alert alert-primary" role="alert">
        {% for message in messages %}
         {{ message }} 
        {% endfor %}
      </div>
      {% endif %}

      <div class="password-field">
        <input type="password" name="old_password" placeholder="Old Password" class="form-input" required />
        <span class="fa fa-fw fa-eye field-icon toggle-password"></span>
      </div>
      <div class="password-field">
        <input type="password" name="new_password" placeholder="New Password" class="form-input" required />
        <span class="fa fa-fw fa-eye field-icon toggle-password"></span>
      </div>
      <div class="password-field">
        <input type="password" name="confirm_password" placeholder="Confirm Password" class="form-input" required />
        <span class="fa fa-fw fa-eye field-icon toggle-password"></span>
      </div>

      <button type="submit" class="button submit-button">Submit</button>
    </form>
  </div>
</section>
{% endblock content %}

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const togglePasswordButtons = document.querySelectorAll(".toggle-password");

    togglePasswordButtons.forEach(function (togglePassword) {
      togglePassword.addEventListener("click", function () {
        // Get the corresponding password input field
        const passwordInput = this.previousElementSibling; // Get the input before the icon

        // Toggle the type attribute
        const type = passwordInput.getAttribute("type") === "password" ? "text" : "password";
        passwordInput.setAttribute("type", type);

        // Toggle the eye icon
        this.classList.toggle("fa-eye");
        this.classList.toggle("fa-eye-slash");
      });
    });
  });
</script>

{% comment %} <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script> {% endcomment %}
  